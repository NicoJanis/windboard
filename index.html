<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Charmonman" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Mali" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous" />
    <!-- Eigenes CSS -->
    <link rel="stylesheet" href="css/stylesheet.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <title>Start</title>
    <script src="jscript/myscripts.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

</head>

<body>
    <script>
        AOS.init();
    </script>

    <div class="wrapper">
        <header class="top-header">
            <nav>
                <div class="menu-icon">
                    <i class="fa fa-bars fa-2x"></i>
                </div>
                <div class="logo">
                    <img src="images/logoText.svg" alt="logo of windboard">
                </div>
                <div class="menu">

                    <ul>
                        <li><a class="nav-link active" href="index.html">Home</a></li>
                        <li><a class="nav-link" href="api.html">Weather</a></li>
                        <li><a class="nav-link" href="aboutus.html">About Us</a></li>
                        <li><a class="nav-link" href="login.html"><i class="fa fa-fw fa-user"></i> Login</a></li>



                    </ul>
                </div>
            </nav>
        </header>
        <div class="content" data-aos="fade-up">

            <p>
                Windsurfing isn't just a sport which is extremely fun, it is a lifestyle. We at Winboard have made it our goal to give you the best possible experience while windsurfing. With our site you can get the weather-data from your favourite windsurf spots at
                every time. <br><br>We do not just inform you about the weather, we inform you about everything there is to know if you want to go windsurfing at your spot. With our account system you can easyly connect with others and
                talk about your experiences or ask them for recommendations for surfing. <br> <br>We at Windboard personalise your experience on our website and make it as easy for you as posible to reach the information you need. Choose your favourite
                spots and mark them, so we can always show you the latest news.
            </p>
        </div>
    </div>

    <div class="main">
        <!-- set output value, dipslayed in html conatiner   -->
        <div class="app-section">
            <div class="app-wrap">
                <header class="app-header">
                    <div>
                        <input type="text" autocomplete="off" class="search-box" placeholder="Search for a city..." />
                    </div>
                </header>
                <main class="app-main">
                    <div class="data">
                        <div class="text">
                            <section class="location">
                                <div class="city">Vienna, AT</div>
                                <div class="date">Sunday 10 January 2021</div>
                            </section>
                            <section class="current">
                                <div class="temp">15<span>°C</span></div>
                                <div class="hi-low">13 / 16</div>
                                <div class="wind">15<span>kn</span></div>
                                <div class="weather">Sunny</div>
                            </section>
                        </div>
                        <div class="spacer">
                            <div id="div0"></div>
                            <div id="div1"></div>
                        </div>
                    </div>
                    <div class="map">
                        <div id="map"></div>
                    </div>
                </main>
            </div>
        </div>

        <script>
            var map = L.map('map').setView([50, 50], 2);
            L.tileLayer('https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=hYjlwswSlN8Zv1WWYFGT', {
                attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a><a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',
            }).addTo(map);

            var theMarker = {};

            const api = {
                key: "5f0ce22b4d50f95750ee5c6d75d04a19",
                base: "https://api.openweathermap.org/data/2.5/"
            }

            const searchbox = document.querySelector('.search-box');
            searchbox.addEventListener('keypress', setQuery);

            function setQuery(evt) {
                if (evt.keyCode == 13) {
                    getResults(searchbox.value);
                }
            }

            function getResults(query) {
                fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`)
                    .then(weather => {
                        return weather.json();
                    }).then(displayResults);
            }

            function displayResults(weather) {
                let city = document.querySelector('.location .city');
                city.innerText = `${weather.name}, ${weather.sys.country}`;

                let now = new Date();
                let date = document.querySelector('.location .date');
                date.innerText = dateBuilder(now);

                let temp = document.querySelector('.current .temp');
                temp.innerHTML = `${Math.round(weather.main.temp)}<span>°C</span>`;

                let wind = document.querySelector('.current .wind');
                wind.innerHTML = weather.wind.speed + "<span>kn<span>";

                let weather_el = document.querySelector('.current .weather');
                weather_el.innerText = weather.weather[0].main;

                let hilow = document.querySelector('.hi-low');
                hilow.innerText = `${Math.round(weather.main.temp_min)} / ${Math.round(weather.main.temp_max)}`;


                var lonValue = weather.coord.lon;
                var latValue = weather.coord.lat;

                if (theMarker != undefined) {
                    map.removeLayer(theMarker);
                };

                theMarker = L.marker([latValue, lonValue]).addTo(map);
                theMarker.bindPopup(`${weather.name}, ${weather.sys.country}` + "<br>" + "Desc - " + weather.weather[0].main + "<br>" + "Temp - " + `${Math.round(weather.main.temp)}<span>°C</span>` + "<br>" + "Windspeed - " + weather.wind.speed + ' knots');

                localStorage.setItem("name", "John Doe");

                readLS();
            }

            function dateBuilder(d) {
                let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                let days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

                let day = days[d.getDay()];
                let date = d.getDate();
                let month = months[d.getMonth()];
                let year = d.getFullYear();

                return `${day} ${date} ${month} ${year}`;
            }


            function getLon() {
                text2: lonValue;
            }

            function getLat() {
                text1: latValue;
            }

            function readLS() {
                console.log(localStorage.getItem("name"));

            }
        </script>

    </div>




    <footer class="mainfooter" role="contentinfo">
        <div class="footer-middle">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 col-sm-6">
                        <!--Column1-->
                        <div class="footer-pad">
                            <h4>Heading 1</h4>
                            <ul class="list-unstyled">
                                <li>
                                    <a href="#"></a>
                                </li>
                                <li><a href="#">Payment Center</a></li>
                                <li><a href="#">Contact Directory</a></li>
                                <li><a href="#">Forms</a></li>
                                <li><a href="#">News and Updates</a></li>
                                <li><a href="#">FAQs</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <!--Column1-->
                        <div class="footer-pad">
                            <h4>Heading 2</h4>
                            <ul class="list-unstyled">
                                <li><a href="#">Website Tutorial</a></li>
                                <li><a href="#">Accessibility</a></li>
                                <li><a href="#">Disclaimer</a></li>
                                <li><a href="#">Privacy Policy</a></li>
                                <li><a href="#">FAQs</a></li>
                                <li><a href="#">Webmaster</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <!--Column1-->
                        <div class="footer-pad">
                            <h4>Heading 3</h4>
                            <ul class="list-unstyled">
                                <li><a href="#">Parks and Recreation</a></li>
                                <li><a href="#">Public Works</a></li>
                                <li><a href="#">Police Department</a></li>
                                <li><a href="#">Fire</a></li>
                                <li><a href="#">Mayor and City Council</a></li>
                                <li>
                                    <a href="#"></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <h4>Follow Us</h4>
                        <ul class="social-network social-circle">
                            <li><a href="https://www.facebook.com/" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://www.linkedin.com/" class="icoLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://www.youtube.com/" class="icoYoutube" title="Youtube"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://twitter.com/" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                        </ul>
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-12 copy">
                        <p class="text-center">&copy; Copyright 2020 - windboard. All rights reserved.</p>
                    </div>
                </div>


            </div>
        </div>
    </footer>



</body>
<!-- 
Colours:
Black: #161616
Blue1: #2a3f95
Blue2: #56cfff
Yellow1: #d3fc78
Yellow2: #e2b72c
-->

</html>